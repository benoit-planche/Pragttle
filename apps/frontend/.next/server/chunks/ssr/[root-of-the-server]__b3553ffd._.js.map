{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 15, "column": 0}, "map": {"version":3,"sources":["file:///home/moi/Documents/internship/projetsecret/RAGNagna/apps/frontend/src/services/api.ts"],"sourcesContent":["const API_BASE_URL = \"http://127.0.0.1:4000\";\n\nexport interface Post {\n  id: number;\n  content: string;\n  author_id: number;\n  author_name: string;\n  author_username: string;\n  author_avatar_url?: string;\n  likes_count: number;\n  comments_count: number;\n  shares_count: number;\n  is_verified_by_ai: boolean;\n  ai_verification_score?: number;\n  created_at: string;\n  updated_at: string;\n}\n\nexport interface PostListResponse {\n  posts: Post[];\n  total: number;\n  page: number;\n  per_page: number;\n}\n\nexport interface CreatePostRequest {\n  content: string;\n}\n\nexport interface CreatePostResponse {\n  id: number;\n  content: string;\n  author_id: number;\n  created_at: string;\n}\n\nexport interface AuthRequest {\n  username: string;\n  password: string;\n}\n\nexport interface AuthResponse {\n  token: string;\n  user: {\n    id: number;\n    username: string;\n    email: string;\n    name: string;\n    avatar_url?: string;\n    created_at: string;\n  };\n}\n\nexport interface LikeResponse {\n  success: boolean;\n  liked: boolean;\n  message: string;\n}\n\nexport interface UnlikeResponse {\n  success: boolean;\n  unliked: boolean;\n  message: string;\n}\n\nclass ApiService {\n  private baseUrl: string;\n\n  constructor() {\n    this.baseUrl = API_BASE_URL;\n    console.log(\"üîß API Service initialized with base URL:\", this.baseUrl);\n  }\n\n  private async request<T>(\n    endpoint: string,\n    options: RequestInit = {}\n  ): Promise<T> {\n    const url = `${this.baseUrl}${endpoint}`;\n    console.log(\"üåê Making API request to:\", url);\n\n    const config: RequestInit = {\n      headers: {\n        \"Content-Type\": \"application/json\",\n        ...options.headers,\n      },\n      ...options,\n    };\n\n    // Add auth token if available\n    if (typeof window !== \"undefined\") {\n      const token = localStorage.getItem(\"auth_token\");\n      if (token) {\n        config.headers = {\n          ...config.headers,\n          Authorization: `Bearer ${token}`,\n        };\n      }\n    }\n\n    try {\n      console.log(\"üì§ Request config:\", config);\n      const response = await fetch(url, config);\n      console.log(\"üì• Response status:\", response.status);\n      console.log(\"üì• Response headers:\", response.headers);\n\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n\n      // Handle empty responses\n      const text = await response.text();\n      console.log(\"üì• Response text:\", text);\n\n      if (!text) {\n        return {} as T;\n      }\n\n      const parsed = JSON.parse(text);\n      console.log(\"‚úÖ Parsed response:\", parsed);\n      return parsed;\n    } catch (error) {\n      console.error(\"‚ùå API request failed:\", error);\n      throw error;\n    }\n  }\n\n  // Posts\n  async getPosts(page?: number, per_page?: number): Promise<PostListResponse> {\n    const params = new URLSearchParams();\n    if (page) params.append(\"page\", page.toString());\n    if (per_page) params.append(\"per_page\", per_page.toString());\n\n    const queryString = params.toString();\n    const endpoint = queryString ? `/api/posts?${queryString}` : \"/api/posts\";\n\n    return this.request<PostListResponse>(endpoint);\n  }\n\n  async createPost(data: CreatePostRequest): Promise<CreatePostResponse> {\n    return this.request<CreatePostResponse>(\"/api/posts\", {\n      method: \"POST\",\n      body: JSON.stringify(data),\n    });\n  }\n\n  async likePost(postId: number): Promise<LikeResponse> {\n    return this.request<LikeResponse>(`/api/posts/${postId}/like`, {\n      method: \"POST\",\n    });\n  }\n\n  async unlikePost(postId: number): Promise<UnlikeResponse> {\n    return this.request<UnlikeResponse>(`/api/posts/${postId}/unlike`, {\n      method: \"POST\",\n    });\n  }\n\n  // Auth\n  async login(data: AuthRequest): Promise<AuthResponse> {\n    return this.request<AuthResponse>(\"/api/auth/login\", {\n      method: \"POST\",\n      body: JSON.stringify(data),\n    });\n  }\n\n  async register(data: AuthRequest): Promise<AuthResponse> {\n    return this.request<AuthResponse>(\"/api/auth/register\", {\n      method: \"POST\",\n      body: JSON.stringify(data),\n    });\n  }\n\n  // Health check\n  async healthCheck(): Promise<{ status: string }> {\n    return this.request<{ status: string }>(\"/health\");\n  }\n}\n\nexport const apiService = new ApiService();\n"],"names":[],"mappings":";;;AAAA,MAAM,eAAe;AAiErB,MAAM;IACI,QAAgB;IAExB,aAAc;QACZ,IAAI,CAAC,OAAO,GAAG;QACf,QAAQ,GAAG,CAAC,6CAA6C,IAAI,CAAC,OAAO;IACvE;IAEA,MAAc,QACZ,QAAgB,EAChB,UAAuB,CAAC,CAAC,EACb;QACZ,MAAM,MAAM,GAAG,IAAI,CAAC,OAAO,GAAG,UAAU;QACxC,QAAQ,GAAG,CAAC,6BAA6B;QAEzC,MAAM,SAAsB;YAC1B,SAAS;gBACP,gBAAgB;gBAChB,GAAG,QAAQ,OAAO;YACpB;YACA,GAAG,OAAO;QACZ;QAEA,8BAA8B;QAC9B,uCAAmC;;QAQnC;QAEA,IAAI;YACF,QAAQ,GAAG,CAAC,sBAAsB;YAClC,MAAM,WAAW,MAAM,MAAM,KAAK;YAClC,QAAQ,GAAG,CAAC,uBAAuB,SAAS,MAAM;YAClD,QAAQ,GAAG,CAAC,wBAAwB,SAAS,OAAO;YAEpD,IAAI,CAAC,SAAS,EAAE,EAAE;gBAChB,MAAM,IAAI,MAAM,CAAC,oBAAoB,EAAE,SAAS,MAAM,EAAE;YAC1D;YAEA,yBAAyB;YACzB,MAAM,OAAO,MAAM,SAAS,IAAI;YAChC,QAAQ,GAAG,CAAC,qBAAqB;YAEjC,IAAI,CAAC,MAAM;gBACT,OAAO,CAAC;YACV;YAEA,MAAM,SAAS,KAAK,KAAK,CAAC;YAC1B,QAAQ,GAAG,CAAC,sBAAsB;YAClC,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,yBAAyB;YACvC,MAAM;QACR;IACF;IAEA,QAAQ;IACR,MAAM,SAAS,IAAa,EAAE,QAAiB,EAA6B;QAC1E,MAAM,SAAS,IAAI;QACnB,IAAI,MAAM,OAAO,MAAM,CAAC,QAAQ,KAAK,QAAQ;QAC7C,IAAI,UAAU,OAAO,MAAM,CAAC,YAAY,SAAS,QAAQ;QAEzD,MAAM,cAAc,OAAO,QAAQ;QACnC,MAAM,WAAW,cAAc,CAAC,WAAW,EAAE,aAAa,GAAG;QAE7D,OAAO,IAAI,CAAC,OAAO,CAAmB;IACxC;IAEA,MAAM,WAAW,IAAuB,EAA+B;QACrE,OAAO,IAAI,CAAC,OAAO,CAAqB,cAAc;YACpD,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;QACvB;IACF;IAEA,MAAM,SAAS,MAAc,EAAyB;QACpD,OAAO,IAAI,CAAC,OAAO,CAAe,CAAC,WAAW,EAAE,OAAO,KAAK,CAAC,EAAE;YAC7D,QAAQ;QACV;IACF;IAEA,MAAM,WAAW,MAAc,EAA2B;QACxD,OAAO,IAAI,CAAC,OAAO,CAAiB,CAAC,WAAW,EAAE,OAAO,OAAO,CAAC,EAAE;YACjE,QAAQ;QACV;IACF;IAEA,OAAO;IACP,MAAM,MAAM,IAAiB,EAAyB;QACpD,OAAO,IAAI,CAAC,OAAO,CAAe,mBAAmB;YACnD,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;QACvB;IACF;IAEA,MAAM,SAAS,IAAiB,EAAyB;QACvD,OAAO,IAAI,CAAC,OAAO,CAAe,sBAAsB;YACtD,QAAQ;YACR,MAAM,KAAK,SAAS,CAAC;QACvB;IACF;IAEA,eAAe;IACf,MAAM,cAA2C;QAC/C,OAAO,IAAI,CAAC,OAAO,CAAqB;IAC1C;AACF;AAEO,MAAM,aAAa,IAAI","debugId":null}},
    {"offset": {"line": 111, "column": 0}, "map": {"version":3,"sources":["file:///home/moi/Documents/internship/projetsecret/RAGNagna/apps/frontend/src/components/PostCard.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport {\n  Heart,\n  MessageCircle,\n  Share2,\n  MoreHorizontal,\n  Clock,\n  CheckCircle,\n} from \"lucide-react\";\nimport { Post, apiService } from \"../services/api\";\n\ninterface PostCardProps {\n  post: Post;\n  onLike?: (postId: number) => void;\n  onComment?: (postId: number) => void;\n  onShare?: (postId: number) => void;\n}\n\nexport default function PostCard({\n  post,\n  onLike,\n  onComment,\n  onShare,\n}: PostCardProps) {\n  const [isLiked, setIsLiked] = useState(false);\n  const [likesCount, setLikesCount] = useState(post.likes_count);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const handleLike = async () => {\n    if (isLoading) return;\n\n    setIsLoading(true);\n    try {\n      if (isLiked) {\n        await apiService.unlikePost(post.id);\n        setLikesCount(likesCount - 1);\n      } else {\n        await apiService.likePost(post.id);\n        setLikesCount(likesCount + 1);\n      }\n      setIsLiked(!isLiked);\n      onLike?.(post.id);\n    } catch (error) {\n      console.error(\"Failed to like/unlike post:\", error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const formatTimestamp = (timestamp: string) => {\n    const date = new Date(timestamp);\n    const now = new Date();\n    const diffInHours = Math.floor(\n      (now.getTime() - date.getTime()) / (1000 * 60 * 60)\n    );\n\n    if (diffInHours < 1) return \"√Ä l'instant\";\n    if (diffInHours < 24) return `Il y a ${diffInHours}h`;\n    if (diffInHours < 48) return \"Hier\";\n    return date.toLocaleDateString(\"fr-FR\");\n  };\n\n  const getVerificationColor = (score?: number) => {\n    if (!score) return \"from-gray-500 to-gray-600\";\n    if (score >= 0.9) return \"from-green-500 to-emerald-500\";\n    if (score >= 0.7) return \"from-blue-500 to-cyan-500\";\n    if (score >= 0.5) return \"from-yellow-500 to-orange-500\";\n    return \"from-red-500 to-pink-500\";\n  };\n\n  return (\n    <div className=\"bg-white dark:bg-gray-800 rounded-2xl border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-lg transition-all duration-200 overflow-hidden\">\n      {/* Header */}\n      <div className=\"p-6 pb-4\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-3\">\n            <div className=\"relative\">\n              {post.author_avatar_url ? (\n                <img\n                  src={post.author_avatar_url}\n                  alt={post.author_name}\n                  className=\"h-12 w-12 rounded-full object-cover border-2 border-blue-200 dark:border-blue-700\"\n                />\n              ) : (\n                <div className=\"h-12 w-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-semibold text-lg border-2 border-blue-200 dark:border-blue-700\">\n                  {post.author_name.charAt(0).toUpperCase()}\n                </div>\n              )}\n              {post.is_verified_by_ai && (\n                <div className=\"absolute -bottom-1 -right-1 h-4 w-4 bg-green-500 rounded-full border-2 border-white dark:border-gray-800 flex items-center justify-center\">\n                  <CheckCircle className=\"h-2.5 w-2.5 text-white\" />\n                </div>\n              )}\n            </div>\n            <div>\n              <h3 className=\"font-semibold text-gray-900 dark:text-white\">\n                {post.author_name}\n              </h3>\n              <div className=\"flex items-center space-x-2 text-sm text-gray-500 dark:text-gray-400\">\n                <span>@{post.author_username}</span>\n                <span>‚Ä¢</span>\n                <div className=\"flex items-center space-x-1\">\n                  <Clock className=\"h-3 w-3\" />\n                  <span>{formatTimestamp(post.created_at)}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n          <button className=\"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\">\n            <MoreHorizontal className=\"h-5 w-5\" />\n          </button>\n        </div>\n      </div>\n\n      {/* Content */}\n      <div className=\"px-6 pb-4\">\n        <p className=\"text-gray-900 dark:text-white text-lg leading-relaxed\">\n          {post.content}\n        </p>\n      </div>\n\n      {/* Actions */}\n      <div className=\"px-6 pb-6\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-6\">\n            {/* Like Button */}\n            <button\n              onClick={handleLike}\n              disabled={isLoading}\n              className={`flex items-center space-x-2 px-4 py-2 rounded-full transition-all duration-200 ${\n                isLiked\n                  ? \"text-red-500 bg-red-50 dark:bg-red-900/20\"\n                  : \"text-gray-500 hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20\"\n              } ${isLoading ? \"opacity-50 cursor-not-allowed\" : \"\"}`}\n            >\n              <Heart className={`h-5 w-5 ${isLiked ? \"fill-current\" : \"\"}`} />\n              <span className=\"font-medium\">{likesCount}</span>\n            </button>\n\n            {/* Comment Button */}\n            <button\n              onClick={() => onComment?.(post.id)}\n              className=\"flex items-center space-x-2 px-4 py-2 text-gray-500 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-full transition-all duration-200\"\n            >\n              <MessageCircle className=\"h-5 w-5\" />\n              <span className=\"font-medium\">{post.comments_count}</span>\n            </button>\n\n            {/* Share Button */}\n            <button\n              onClick={() => onShare?.(post.id)}\n              className=\"flex items-center space-x-2 px-4 py-2 text-gray-500 hover:text-green-500 hover:bg-green-50 dark:hover:bg-green-900/20 rounded-full transition-all duration-200\"\n            >\n              <Share2 className=\"h-5 w-5\" />\n              <span className=\"font-medium\">{post.shares_count}</span>\n            </button>\n          </div>\n\n          {/* AI Verification Badge */}\n          {post.is_verified_by_ai && (\n            <div\n              className={`flex items-center space-x-2 px-3 py-1 bg-gradient-to-r ${getVerificationColor(\n                post.ai_verification_score\n              )} text-white text-xs font-semibold rounded-full`}\n            >\n              <div className=\"w-2 h-2 bg-white rounded-full animate-pulse\"></div>\n              <span>\n                IA V√©rifi√©\n                {post.ai_verification_score && (\n                  <span className=\"ml-1\">\n                    ({Math.round(post.ai_verification_score * 100)}%)\n                  </span>\n                )}\n              </span>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 479, "column": 0}, "map": {"version":3,"sources":["file:///home/moi/Documents/internship/projetsecret/RAGNagna/apps/frontend/src/components/CreatePost.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { Send, Image, Smile, Hash, Globe } from \"lucide-react\";\n\ninterface CreatePostProps {\n  onSubmit: (content: string) => void;\n  placeholder?: string;\n}\n\nexport default function CreatePost({\n  onSubmit,\n  placeholder = \"Quoi de neuf sur le climat ?\",\n}: CreatePostProps) {\n  const [content, setContent] = useState(\"\");\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [isFocused, setIsFocused] = useState(false);\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    if (!content.trim()) return;\n\n    setIsSubmitting(true);\n    try {\n      await onSubmit(content);\n      setContent(\"\");\n    } catch (error) {\n      console.error(\"Erreur lors de la cr√©ation du post:\", error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === \"Enter\" && (e.metaKey || e.ctrlKey)) {\n      handleSubmit(e);\n    }\n  };\n\n  const characterCount = content.length;\n  const maxCharacters = 280;\n  const isOverLimit = characterCount > maxCharacters;\n  const isNearLimit = characterCount > maxCharacters * 0.8;\n\n  return (\n    <div\n      className={`bg-white dark:bg-gray-800 rounded-2xl border-2 transition-all duration-200 ${\n        isFocused\n          ? \"border-blue-500 shadow-lg shadow-blue-500/20\"\n          : \"border-gray-200 dark:border-gray-700 shadow-sm\"\n      }`}\n    >\n      <form onSubmit={handleSubmit}>\n        <div className=\"p-6\">\n          <div className=\"flex space-x-4\">\n            {/* Avatar */}\n            <div className=\"relative\">\n              <div className=\"w-12 h-12 bg-gradient-to-r from-blue-500 to-purple-500 rounded-full flex items-center justify-center text-white font-semibold text-lg flex-shrink-0 border-2 border-blue-200 dark:border-blue-700\">\n                U\n              </div>\n              <div className=\"absolute -bottom-1 -right-1 h-4 w-4 bg-green-500 rounded-full border-2 border-white dark:border-gray-800\"></div>\n            </div>\n\n            {/* Content */}\n            <div className=\"flex-1\">\n              <textarea\n                value={content}\n                onChange={(e) => setContent(e.target.value)}\n                onKeyPress={handleKeyPress}\n                onFocus={() => setIsFocused(true)}\n                onBlur={() => setIsFocused(false)}\n                placeholder={placeholder}\n                className=\"w-full resize-none border-0 bg-transparent text-gray-900 dark:text-white placeholder-gray-500 dark:placeholder-gray-400 focus:ring-0 focus:outline-none text-lg leading-relaxed\"\n                rows={3}\n                maxLength={maxCharacters}\n              />\n\n              {/* Character count and actions */}\n              <div className=\"flex items-center justify-between mt-4\">\n                <div className=\"flex items-center space-x-2\">\n                  <button\n                    type=\"button\"\n                    className=\"text-gray-400 hover:text-blue-500 transition-colors p-2 rounded-full hover:bg-blue-50 dark:hover:bg-blue-900/20\"\n                    aria-label=\"Ajouter une image\"\n                  >\n                    <Image size={20} />\n                  </button>\n                  <button\n                    type=\"button\"\n                    className=\"text-gray-400 hover:text-yellow-500 transition-colors p-2 rounded-full hover:bg-yellow-50 dark:hover:bg-yellow-900/20\"\n                    aria-label=\"Ajouter un emoji\"\n                  >\n                    <Smile size={20} />\n                  </button>\n                  <button\n                    type=\"button\"\n                    className=\"text-gray-400 hover:text-green-500 transition-colors p-2 rounded-full hover:bg-green-50 dark:hover:bg-green-900/20\"\n                    aria-label=\"Ajouter un hashtag\"\n                  >\n                    <Hash size={20} />\n                  </button>\n                  <button\n                    type=\"button\"\n                    className=\"text-gray-400 hover:text-purple-500 transition-colors p-2 rounded-full hover:bg-purple-50 dark:hover:bg-purple-900/20\"\n                    aria-label=\"Param√®tres de visibilit√©\"\n                  >\n                    <Globe size={20} />\n                  </button>\n                </div>\n\n                <div className=\"flex items-center space-x-4\">\n                  <div className=\"flex items-center space-x-2\">\n                    <span\n                      className={`text-sm font-medium ${\n                        isOverLimit\n                          ? \"text-red-500\"\n                          : isNearLimit\n                          ? \"text-yellow-500\"\n                          : \"text-gray-400\"\n                      }`}\n                    >\n                      {characterCount}/{maxCharacters}\n                    </span>\n                    {isOverLimit && (\n                      <div className=\"w-2 h-2 bg-red-500 rounded-full animate-pulse\"></div>\n                    )}\n                  </div>\n                  <button\n                    type=\"submit\"\n                    disabled={!content.trim() || isSubmitting || isOverLimit}\n                    className={`flex items-center space-x-2 px-6 py-3 rounded-full font-semibold transition-all duration-200 ${\n                      content.trim() && !isSubmitting && !isOverLimit\n                        ? \"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white shadow-lg hover:shadow-xl transform hover:scale-105\"\n                        : \"bg-gray-200 dark:bg-gray-700 text-gray-400 cursor-not-allowed\"\n                    }`}\n                  >\n                    {isSubmitting ? (\n                      <div className=\"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin\"></div>\n                    ) : (\n                      <Send size={16} />\n                    )}\n                    <span>{isSubmitting ? \"Publication...\" : \"Publier\"}</span>\n                  </button>\n                </div>\n              </div>\n\n              {/* AI Verification Badge */}\n              {content.trim() && (\n                <div className=\"mt-4 flex items-center space-x-2 text-sm text-gray-500 dark:text-gray-400\">\n                  <div className=\"w-2 h-2 bg-green-500 rounded-full animate-pulse\"></div>\n                  <span>\n                    Ce post sera v√©rifi√© par notre IA pour la d√©sinformation\n                    climatique\n                  </span>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      </form>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAHA;;;;AAUe,SAAS,WAAW,EACjC,QAAQ,EACR,cAAc,8BAA8B,EAC5B;IAChB,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACjD,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAE3C,MAAM,eAAe,OAAO;QAC1B,EAAE,cAAc;QAChB,IAAI,CAAC,QAAQ,IAAI,IAAI;QAErB,gBAAgB;QAChB,IAAI;YACF,MAAM,SAAS;YACf,WAAW;QACb,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,uCAAuC;QACvD,SAAU;YACR,gBAAgB;QAClB;IACF;IAEA,MAAM,iBAAiB,CAAC;QACtB,IAAI,EAAE,GAAG,KAAK,WAAW,CAAC,EAAE,OAAO,IAAI,EAAE,OAAO,GAAG;YACjD,aAAa;QACf;IACF;IAEA,MAAM,iBAAiB,QAAQ,MAAM;IACrC,MAAM,gBAAgB;IACtB,MAAM,cAAc,iBAAiB;IACrC,MAAM,cAAc,iBAAiB,gBAAgB;IAErD,qBACE,8OAAC;QACC,WAAW,CAAC,2EAA2E,EACrF,YACI,iDACA,kDACJ;kBAEF,cAAA,8OAAC;YAAK,UAAU;sBACd,cAAA,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAI,WAAU;;sCAEb,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCAAI,WAAU;8CAAoM;;;;;;8CAGnN,8OAAC;oCAAI,WAAU;;;;;;;;;;;;sCAIjB,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;oCACC,OAAO;oCACP,UAAU,CAAC,IAAM,WAAW,EAAE,MAAM,CAAC,KAAK;oCAC1C,YAAY;oCACZ,SAAS,IAAM,aAAa;oCAC5B,QAAQ,IAAM,aAAa;oCAC3B,aAAa;oCACb,WAAU;oCACV,MAAM;oCACN,WAAW;;;;;;8CAIb,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDACC,MAAK;oDACL,WAAU;oDACV,cAAW;8DAEX,cAAA,8OAAC,oMAAA,CAAA,QAAK;wDAAC,MAAM;;;;;;;;;;;8DAEf,8OAAC;oDACC,MAAK;oDACL,WAAU;oDACV,cAAW;8DAEX,cAAA,8OAAC,oMAAA,CAAA,QAAK;wDAAC,MAAM;;;;;;;;;;;8DAEf,8OAAC;oDACC,MAAK;oDACL,WAAU;oDACV,cAAW;8DAEX,cAAA,8OAAC,kMAAA,CAAA,OAAI;wDAAC,MAAM;;;;;;;;;;;8DAEd,8OAAC;oDACC,MAAK;oDACL,WAAU;oDACV,cAAW;8DAEX,cAAA,8OAAC,oMAAA,CAAA,QAAK;wDAAC,MAAM;;;;;;;;;;;;;;;;;sDAIjB,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAI,WAAU;;sEACb,8OAAC;4DACC,WAAW,CAAC,oBAAoB,EAC9B,cACI,iBACA,cACA,oBACA,iBACJ;;gEAED;gEAAe;gEAAE;;;;;;;wDAEnB,6BACC,8OAAC;4DAAI,WAAU;;;;;;;;;;;;8DAGnB,8OAAC;oDACC,MAAK;oDACL,UAAU,CAAC,QAAQ,IAAI,MAAM,gBAAgB;oDAC7C,WAAW,CAAC,6FAA6F,EACvG,QAAQ,IAAI,MAAM,CAAC,gBAAgB,CAAC,cAChC,wJACA,iEACJ;;wDAED,6BACC,8OAAC;4DAAI,WAAU;;;;;iFAEf,8OAAC,kMAAA,CAAA,OAAI;4DAAC,MAAM;;;;;;sEAEd,8OAAC;sEAAM,eAAe,mBAAmB;;;;;;;;;;;;;;;;;;;;;;;;gCAM9C,QAAQ,IAAI,oBACX,8OAAC;oCAAI,WAAU;;sDACb,8OAAC;4CAAI,WAAU;;;;;;sDACf,8OAAC;sDAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAYxB","debugId":null}},
    {"offset": {"line": 777, "column": 0}, "map": {"version":3,"sources":["file:///home/moi/Documents/internship/projetsecret/RAGNagna/apps/frontend/src/app/feed/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport Image from \"next/image\";\nimport PostCard from \"@/components/PostCard\";\nimport CreatePost from \"@/components/CreatePost\";\nimport { Search, TrendingUp, Bell, Settings, Loader2, Link } from \"lucide-react\";\nimport { apiService, Post } from \"@/services/api\";\n\nexport default function FeedPage() {\n  const [posts, setPosts] = useState<Post[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [activeTab, setActiveTab] = useState(\"for-you\");\n\n  useEffect(() => {\n    fetchPosts();\n  }, []);\n\n  const fetchPosts = async () => {\n    try {\n      setLoading(true);\n      setError(null);\n      console.log(\"üîÑ Fetching posts from API...\");\n      const response = await apiService.getPosts();\n      console.log(\"‚úÖ Posts fetched successfully:\", response);\n      setPosts(response.posts);\n    } catch (err) {\n      console.error(\"‚ùå Failed to fetch posts:\", err);\n      setError(\"Impossible de charger les publications\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleCreatePost = async (content: string) => {\n    try {\n      await apiService.createPost({ content });\n      // Refresh posts to get the updated list\n      await fetchPosts();\n    } catch (err) {\n      console.error(\"Failed to create post:\", err);\n      setError(\"Impossible de cr√©er la publication\");\n    }\n  };\n\n  const handleLike = (postId: number) => {\n    // The PostCard component handles the like/unlike logic\n    console.log(\"Post liked:\", postId);\n  };\n\n  const handleComment = (postId: number) => {\n    console.log(\"Comment on post:\", postId);\n  };\n\n  const handleShare = (postId: number) => {\n    console.log(\"Share post:\", postId);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gray-50 dark:bg-gray-900\">\n      {/* Header */}\n      <header className=\"bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 sticky top-0 z-10\">\n        <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex items-center justify-between h-16\">\n          <div className=\"relative bg-white dark:bg-gray-800 shadow-2xl flex items-center space-x-3\">\n              <Link href=\"/\" className=\"relative bg-white dark:bg-gray-800 px-8 py-4 rounded-full shadow-2xl flex items-center space-x-3 hover:shadow-3xl transition-all duration-200\">\n                    <Image\n                      src=\"/pragttle.png\"\n                      alt=\"Pragttle Logo\"\n                      width={100}\n                      height={30}\n                      className=\"h-10 w-auto\"\n                    />\n                    <span className=\"text-2xl font-bold bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent\">\n                      Pragttle\n                    </span>\n                  </Link>\n                </div>\n\n            <div className=\"flex items-center space-x-4\">\n              <button className=\"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\">\n                <Search className=\"h-5 w-5\" />\n              </button>\n              <button className=\"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\">\n                <Bell className=\"h-5 w-5\" />\n              </button>\n              <button className=\"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300 rounded-full hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors\">\n                <Settings className=\"h-5 w-5\" />\n              </button>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      <div className=\"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Tabs */}\n        <div className=\"flex space-x-1 bg-white dark:bg-gray-800 rounded-xl p-1 mb-8 shadow-sm\">\n          <button\n            onClick={() => setActiveTab(\"for-you\")}\n            className={`flex-1 py-3 px-4 rounded-lg font-medium transition-all duration-200 ${\n              activeTab === \"for-you\"\n                ? \"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg\"\n                : \"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white\"\n            }`}\n          >\n            Pour vous\n          </button>\n          <button\n            onClick={() => setActiveTab(\"trending\")}\n            className={`flex-1 py-3 px-4 rounded-lg font-medium transition-all duration-200 ${\n              activeTab === \"trending\"\n                ? \"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg\"\n                : \"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white\"\n            }`}\n          >\n            <div className=\"flex items-center justify-center space-x-2\">\n              <TrendingUp className=\"h-4 w-4\" />\n              <span>Tendances</span>\n            </div>\n          </button>\n          <button\n            onClick={() => setActiveTab(\"verified\")}\n            className={`flex-1 py-3 px-4 rounded-lg font-medium transition-all duration-200 ${\n              activeTab === \"verified\"\n                ? \"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg\"\n                : \"text-gray-600 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white\"\n            }`}\n          >\n            V√©rifi√© IA\n          </button>\n        </div>\n\n        {/* Create Post */}\n        <div className=\"mb-8\">\n          <CreatePost onSubmit={handleCreatePost} />\n        </div>\n\n        {/* Error Message */}\n        {error && (\n          <div className=\"mb-6 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg\">\n            <p className=\"text-red-600 dark:text-red-400\">{error}</p>\n          </div>\n        )}\n\n        {/* Loading State */}\n        {loading && (\n          <div className=\"flex items-center justify-center py-12\">\n            <div className=\"flex items-center space-x-2\">\n              <Loader2 className=\"h-6 w-6 animate-spin text-blue-500\" />\n              <span className=\"text-gray-600 dark:text-gray-400\">\n                Chargement des publications...\n              </span>\n            </div>\n          </div>\n        )}\n\n        {/* Posts Feed */}\n        {!loading && (\n          <div className=\"space-y-6\">\n            {posts.length === 0 ? (\n              <div className=\"text-center py-12\">\n                <div className=\"text-gray-400 dark:text-gray-500 text-lg\">\n                  Aucune publication pour le moment\n                </div>\n                <p className=\"text-gray-500 dark:text-gray-400 mt-2\">\n                  Soyez le premier √† partager quelque chose !\n                </p>\n              </div>\n            ) : (\n              posts.map((post) => (\n                <PostCard\n                  key={post.id}\n                  post={post}\n                  onLike={handleLike}\n                  onComment={handleComment}\n                  onShare={handleShare}\n                />\n              ))\n            )}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}